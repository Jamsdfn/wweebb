# ES6

## ECMAScript ç®€ä»‹

- ECMAScript æ˜¯ JavaScript è¯­è¨€çš„æ ‡å‡†
- ECMA: European Computer Manufacturers Associationï¼ˆæ¬§æ´²è®¡ç®—æœºåˆ¶é€ å•†åä¼šï¼‰
- ECMAScript6ï¼šç®€ç§° ES6ï¼Œæ˜¯ JavaScript è¯­è¨€çš„ä¸‹ä¸€ä»£æ ‡å‡†ï¼Œä¹Ÿæ˜¯ç›®å‰æ­£å¼å‘å¸ƒçš„æœ€æ–°çš„ JavaScript æ ‡å‡†ã€‚ç”±äº ES6 æ˜¯åœ¨ 2015 å¹´å‘å¸ƒçš„ï¼Œæ‰€ä»¥ ES6 ä¹Ÿç§°ä¸º ECMAScript2015ã€‚
- ECMAScript æ˜¯ JavaScript çš„æ ‡å‡†ã€‚JavaScript æ˜¯ EcmaScript çš„å®ç°ï¼Œå°±å¥½åƒã€‚å½“ç„¶ï¼Œé™¤äº† JavaScriptï¼ŒEcmaScript è¿˜æœ‰å…¶ä»–çš„å®ç°ï¼Œæ¯”å¦‚ JScriptã€ActionScriptã€‚
- å­¦ä¹ æ¨è ä¹¦ç± http://es6.ruanyifeng.com/

## è¿è¡Œ ECMAScript çš„æ–¹æ³•

- æµè§ˆå™¨ ï¼ˆéƒ½æ˜¯åªæ”¯æŒéƒ¨åˆ† ES6 ä»£ç ï¼Œæœ‰çš„æ”¯æŒçš„å¤šï¼Œæœ‰çš„æ”¯æŒçš„å°‘ï¼‰
  - å„å¤§æµè§ˆå™¨çš„æœ€æ–°ç‰ˆæœ¬ï¼Œå¯¹ ES6 çš„æ”¯æŒå¯ä»¥æŸ¥çœ‹ [kangax.github.io/compat-table/es6/](https://kangax.github.io/compat-table/es6/) ã€‚éšç€æ—¶é—´çš„æ¨ç§»ï¼Œæ”¯æŒåº¦å·²ç»è¶Šæ¥è¶Šé«˜äº†ï¼Œè¶…è¿‡ 90%çš„ ES6 è¯­æ³•ç‰¹æ€§éƒ½å®ç°äº†ã€‚
- ä½¿ç”¨ JavaScript å¼•æ“çš„ç³»ç»Ÿ ï¼ˆå¦‚ Node.jsï¼‰
- å°† ECMAScript6 è½¬åŒ–ä¸º EcmaScript5
  - Babel è½¬æ¢å™¨ï¼ˆReact Native å°±æ˜¯ä½¿ç”¨ Babel å°† JSX è½¬æ¢ä¸º JavaScript ä»£ç ï¼‰
  - Traceur è½¬æ¢å™¨
  - webpack ç›´æ¥æ‰“åŒ…ï¼ˆæœ¬è´¨ä¸Šä¹Ÿæ˜¯ç”¨ä¸Šé¢ä¸¤ä¸ªè½¬æ¢å™¨ï¼‰

### å®‰è£… Babel

- å®˜ç½‘ï¼šhttps://babeljs.io/

  ```shell
  npm i -D babel-core babel-preset-es2015 babel-cli
  ```

- å®˜ç½‘åœ¨çº¿ç¼–è¯‘ï¼šhttps://babeljs.io/repl

- åˆ›å»º .babelrc æ–‡ä»¶

  - ```json
    {
      "presets": [
        "es2015"
      ],
      "plugins": [
      ]
    }
    ```

### ES6 è½¬åŒ–ä¸º ES5 çš„æ–¹å¼ï¼ˆbabelï¼‰

- é™æ€è½¬æ¢

  - å­—ç¬¦ä¸²è½¬æ¢

  ```js
  var code = 'let x = n => n + 1'
  var es5Code = require('babel-core').transform(code,{presets: es2015}).code
  ```

  - æ–‡ä»¶è¯»å–è½¬æ¢

  ```js
  var babel = require('babel-core');
  // æ–‡ä»¶è½¬ç ï¼ˆå¼‚æ­¥ï¼‰
  babel.transformFile('filename.js', options, function(err, result) {
    result; // => { code, map, ast }
  });
  
  // æ–‡ä»¶è½¬ç ï¼ˆåŒæ­¥ï¼‰
  babel.transformFileSync('filename.js', options);
  // => { code, map, ast }
  ```

  - ç›´æ¥è¿›è¡Œæ–‡ä»¶è½¬æ¢(å‰ææ˜¯npm i babel-core)

  ```shell
  ./node_module/.bon/babel es6.js -o es5.js
  ```

  - å®˜ç½‘åœ¨çº¿ç¼–è¯‘
    - https://babeljs.io/repl

- åŠ¨æ€è½¬æ¢(ä¸æ¨èï¼Œåœ¨å®¢æˆ·ç«¯æ‰è§£æï¼Œæ¶ˆè€—å¤ªå¤šæ€§èƒ½ï¼Œç”¨æˆ·ä½“éªŒä¸å¥½)

  - ç”¨åˆ° babel-standalone æ’ä»¶

  - `npm install --save react react-dom @babel/standalone`

  - ```html
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8">
      <title>demo</title>
      <script src="node_modules/@babel/standalone/babel.js"></script>
    </head>
    <body>
      <div id="root"></div>
      <script type="text/babel">
      	// ES6 code
        let x = n => n + 1;
        console.log(x(3))
      </script>
    </body>
    </html>
    ```

## ES6 è¯­æ³•

### let

let ç±»ä¼¼äº varï¼Œéƒ½æ˜¯ç”¨æ¥å£°æ˜å˜é‡çš„ï¼Œä½†æ˜¯æ‰€å£°æ˜çš„å˜é‡ï¼Œåªåœ¨`let`å‘½ä»¤æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆã€‚ 
- letå’Œ var çš„ä½œç”¨åŸŸæ˜¯ä¸åŒçš„
  1. var å¯ä»¥è·¨ä»£ç å—ï¼Œå°±æ˜¯è¯´ï¼Œåœ¨ä»£ç å—å†…éƒ¨å®šä¹‰çš„å˜é‡ï¼Œå¤–éƒ¨ä¹Ÿå¯ä»¥ä½¿ç”¨
  2. let åªåœ¨ä»£ç å—å†…éƒ¨æœ‰æ•ˆï¼Œå¦‚æœè¶…å‡ºä»£ç å—ï¼Œå°±ä¼šæ˜¾ç¤ºå˜é‡ undefined

```js
{
    let a = 100
    var b = 200
    alert(a)
    alert(b)
}
if (typeof a == 'undefined') {
    alert('aæœªå®šä¹‰')
} else if (typeof b == 'undefined') {
    alert('bæœªå®šä¹‰')
}

var a = []
for (var n = 0; n < 10; n++) {
    a[n] = function () {
        console.log(n)
    }
}
a[4]() // 10

var a = []
for (let n = 0; n < 10; n++) {
    a[n] = function () {
        console.log(n)
    }
}
a[4]() // 4 æ¯æ¬¡å¾ªç¯å¯ä»¥éƒ½çœ‹æˆä¸€ä¸ªæ–°çš„ä»£ç å—ï¼Œæ‰€ä»¥æ¯ä¸ª n éƒ½å­˜æ”¾åœ¨ä¸åŒå†…å­˜ä¸­çš„
```

let çš„å®šä¹‰é¡ºåº

- let åªèƒ½å…ˆå®šä¹‰åœ¨ä½¿ç”¨ï¼Œå› ä¸º let å®šä¹‰çš„å˜é‡ä¸ä¼šè¿›è¡Œå˜é‡æå‡ï¼Œæ‰€ä»¥åè¿‡æ¥ç”¨åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸

- var å®šä¹‰çš„å˜é‡å¯ä»¥å…ˆä½¿ç”¨åå®šä¹‰ï¼Œvar å˜é‡æå‡ï¼Œä½†æ˜¯ä½¿ç”¨æ—¶å˜é‡çš„å€¼æ˜¯ undefined

- let åœ¨ä¸€ä¸ªä»£ç å—ä¸­ï¼Œä¸èƒ½é‡å¤å®šä¹‰
  - å¦‚æœä¸€ä¸ªä»£ç å—ä¸­ ç”¨ let å’Œ var åŒæ—¶å®šä¹‰åŒä¸€ä¸ªå˜é‡ï¼Œä¸ä¼šæŠ¥é”™ï¼Œä»¥ let å®šä¹‰çš„ä¸ºå‡†ï¼Œå¤–éƒ¨ä¹Ÿä¸èƒ½è®¿é—®è€…ä¸ªå˜é‡
  - ä½†æ˜¯å¦‚æœåœ¨å‡½æ•°å†…éƒ¨ åŒæ—¶ç”¨ let å’Œ var åŒæ—¶å®šä¹‰åŒä¸€ä¸ªå˜é‡åˆ™ä¼šç›´æ¥æŠ¥é”™
  - å‡½æ•°çš„å½¢å‚å¦‚æœå’Œå‡½æ•°å†…éƒ¨ let å®šä¹‰çš„å˜é‡åŒåä¹Ÿä¼šç›´æ¥æŠ¥é”™

æš‚æ—¶æ€§æ­»åŒº ï¼ˆTemporal dead zoneï¼‰

- å…¶å®ä¹Ÿå°±æ˜¯ let ä¸ä¼šå˜é‡æå‡ï¼Œå¦‚æœå…ˆä½¿ç”¨åˆ™æŠ›å‡ºå¼‚å¸¸çš„è¿™ç§æƒ…å†µ

### å—çº§ä½œç”¨åŸŸ

å—çº§ä½œç”¨åŸŸçš„éœ€æ±‚ï¼šå†…å±‚å˜é‡å¯èƒ½ä¼šè¦†ç›–å¤–å±‚å˜é‡ï¼›å±€éƒ¨å˜é‡æ³„éœ²æˆå…¨å±€å˜é‡ï¼ˆå› ä¸ºå‡½æ•°ä¹Ÿä¼šè¿›è¡Œå‡½æ•°æå‡ï¼Œæ‰€ä»¥å‡½æ•°ä¹Ÿä¼šå‡ºç°å“åº”çš„é—®é¢˜ï¼Œï¼‰ã€‚let çš„å‡ºç°å®é™…ä¸Šå°±æ˜¯ä¸ºäº†ç»™ JavaScript å¢åŠ å—çº§ä½œç”¨åŸŸã€‚

```js
// å†…å±‚å˜é‡è¦†ç›–å¤–å±‚å˜é‡
var s = 'hello world'
var fun = function () {
    console.log(s) // ç”¨ this.s åˆ™ä¼šæ‰¾åˆ° window ä¸‹å…¨å±€çš„ s åˆ™è¾“å‡ºä¼šå˜ä¸º hello world
    if (false) {
        var s = '???' // å³ä½¿ä¸è¢«æ‰§è¡Œï¼Œä½†å› ä¸ºå˜é‡æå‡ï¼Œå†…å±‚sè¿˜æ˜¯è¦†ç›–äº† å¤–å±‚å˜é‡sçš„å€¼
    }
    console.log(s)
}
fun() 
/*
undefined
undefined
*/
// å±€éƒ¨å˜é‡æ³„éœ²æˆå…¨å±€å˜é‡
for (var i = 0; i < 10; i++) {
    
}
console.log(i) // 10
```

- å—çº§ä½œç”¨åŸŸå’ŒåŒ¿åå‡½æ•°

  - å—çº§ä½œç”¨åŸŸå¯ä»¥å–ä»£åŒ¿åå‡½æ•°

  ```js
  (
  	function () {
          var v = 'åŒ¿åå‡½æ•°'
          console.log(v)
      }()
  )
  
  {
      let v = 'å—çº§ä½œç”¨åŸŸ'
      console.log(v)
  }
  ```

### const

const ç”¨äºå£°æ˜å¸¸é‡ï¼Œä¸€æ—¦å£°æ˜ï¼Œå†æ”¹å˜å¸¸é‡çš„å€¼ï¼Œå°±ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚å¸¸é‡å¿…é¡»åœ¨å£°æ˜æ—¶åˆå§‹åŒ–ï¼Œå¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚const å’Œ let ä¸€æ ·ï¼Œåªåœ¨å£°æ˜æ‰€åœ¨çš„å—çº§ä½œç”¨åŸŸæœ‰æ•ˆã€‚var/let å’Œ const ä¸å¯ä»¥åœ¨åŒä¸€ä¸ªå—ä¸­å£°æ˜åŒä¸€ä¸ªå˜é‡ã€‚

- å¯¹è±¡å¸¸é‡
  
  - ç›´æ¥æ”¹å˜å¯¹è±¡å¸¸é‡çš„å±æ€§æ˜¯ä¸å¯ä»¥çš„ï¼Œä½†æ˜¯å¯ä»¥æ”¹å˜å±æ€§çš„å€¼
- æ•°ç»„å¸¸é‡
  
- ä¸å¯ä»¥æŠŠæ•°ç»„çš„æŒ‡é’ˆï¼ˆä¹Ÿå°±æ˜¯æŠŠåŸæ¥çš„æŒ‡é’ˆæŒ‡å‘åˆ«çš„æ•°ç»„ï¼‰ï¼Œä½†å¯ä»¥æ”¹å˜æ•°ç»„å†…å­˜çš„æ•°æ®ï¼Œå³å¯ä»¥å¢åˆ æ”¹æ•°ç»„å…ƒç´ 
  
- å†»ç»“å¯¹è±¡
  - è®©å¯¹è±¡å¸¸é‡çš„å±æ€§å’Œå±æ€§çš„å€¼éƒ½ä¸èƒ½æ”¹å˜
  - `const obj = Object.freeze({name: "name"}) `
  - å¦‚æœæ”¹å˜ obj.name å³ `obj.name = 'kite'` ä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯è¿™æ ·å¹¶ä¸ä¼šæ”¹å˜åŸæ¥å±æ€§çš„å€¼ï¼Œå³ name è¿˜æ˜¯ nameã€‚å› ä¸ºæ•°ç»„ä¹Ÿæ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ç”¨æ¬¡æ–¹æ³•å†»ç»“æ•°ç»„ï¼ˆæ³¨æ„ä¸€ç‚¹ï¼šå’Œå†»ç»“å¯¹è±¡æœ‰ç‚¹ä¸åŒï¼Œå¦‚æœæ”¹å˜å·²å†»ç»“æ•°ç»„çš„é•¿åº¦ï¼Œåˆ™ä¼šæŠ¥é”™ï¼‰

- æ·±åº¦å†»ç»“å¯¹è±¡

  - å› ä¸ºå¯¹è±¡å¯èƒ½å±æ€§çš„å€¼ä¹Ÿå¯ä»¥æ˜¯ä¸ªå¯¹è±¡ï¼Œç”¨å†»ç»“å¯¹è±¡çš„æ–¹å¼åªèƒ½å†»ç»“ç¬¬ä¸€å±‚å±æ€§
  - è¿™å°±è¦è‡ªå·±ç”¨é€’å½’å†™ä¸€ä¸ªæ–¹æ³•

  ```js
  var depthFreezeObject = (obj) => {
      obj = Object.freeze(obj)
      Object.keys(obj).forEach((key => {
          if (typeof obj[key] == 'object') {
              depthFreezeObject(obj[key])
          }
      })
      return obj
  }
  ```


### å˜é‡çš„è§£æ„ï¼ˆDestructuringï¼‰

ES6 å…è®¸æŒ‰ç…§ä¸€å®šæ¨¡å¼ï¼Œä»æ•°ç»„å’Œå¯¹è±¡ä¸­æå–å€¼ï¼Œå¯¹å˜é‡è¿›è¡Œèµ‹å€¼ï¼Œè¿™è¢«ç§°ä¸ºè§£æ„ï¼ˆDestructuringï¼‰ã€‚å…¶å®å°±æ˜¯ä¸€ç§æ–°çš„é˜Ÿå˜é‡çš„èµ‹å€¼æ–¹å¼ã€‚

- æ•°ç»„çš„è§£æ„èµ‹å€¼
  - å®šä¹‰æ—¶è§£æ„èµ‹å€¼
  - åæœŸè§£æ„èµ‹å€¼
  - åµŒå¥—è§£æ„èµ‹å€¼
  - Generator å‡½æ•°çš„è§£æ„èµ‹å€¼
- å¯¹è±¡çš„è§£æ„èµ‹å€¼
  - å˜é‡å½¢å¼çš„èµ‹å€¼
  - å¯¹è±¡å½¢å¼çš„èµ‹å€¼
  - æ··åˆå½¢å¼çš„èµ‹å€¼
  - å˜é‡çš„é‡å¤å£°æ˜

#### æ•°ç»„çš„è§£æ„èµ‹å€¼

è§£æ„éœ€è¦è¿›è¡Œæ¨¡å¼çš„åŒ¹é… (å³å¦‚æœå½¢å¼ä¸€æ ·å°±ç»™å˜é‡ä¾æ¬¡èµ‹å€¼)ã€‚åªè¦æŸç§æ•°æ®ç»“æ„å…·æœ‰ Iterator æ¥å£ï¼Œéƒ½å¯ä»¥é‡‡ç”¨æ•°æ®å½¢å¼çš„è§£æ„èµ‹å€¼ï¼Œæ¯æ‰§è¡Œä¸€æ¬¡ï¼Œéƒ½ä¼šæŒ‡å‘ yield è¯­å¥ï¼ˆç¬¬äºŒå¥è¯å¯èƒ½åˆšäº†è§£ ES6 å¯èƒ½çœ‹ä¸æ‡‚ï¼Œä½†æœ¬æ–‡ä¼šæœ‰ç›¸åº”çš„éƒ¨åˆ†è¿›è¡Œè¯¦ç»†è®²è§£ï¼‰ã€‚


- å®šä¹‰æ—¶è§£æ„èµ‹å€¼

  - è§£æ„çš„æ•°ç»„å½¢å¼ï¼Œå°±æ˜¯ç”¨æ•°ç»„çš„æ–¹å¼ç»™å˜é‡è¿›è¡ŒåŒæ—¶èµ‹å€¼
    

  ```js
  // æ™®é€šçš„èµ‹å€¼æ–¹å¼
  var x = 1
var y = 2
  var z = 3
  //  å®šä¹‰æ—¶è§£æ„èµ‹å€¼
  let [a, b, c] = [4, 5, 6]
  console.log('a = ' + a)
  console.log('b = ' + b)
  console.log('c = ' + c)
  ```
  
- åæœŸè§£æ„èµ‹å€¼

  ```js
    // æ™®é€šçš„èµ‹å€¼æ–¹å¼
    var x = 1
    var y = 2
    var z = 3
    // åæœŸè§£æ„èµ‹å€¼
    ;[x, y, z] = [10, 20, 30]
    console.log('x = ' + x)
    console.log('y = ' + y)
    console.log('z = ' + z)
  ```

- åµŒå¥—è§£æ„èµ‹å€¼

  ```js
  let [age, [salary, [name]]] = [20, [3000, ['Sill']]]
  // ä¸‹é¢æ–¹æ³•çš„èµ‹å€¼æ˜¯é”™è¯¯çš„ï¼Œå› ä¸ºå½¢å¼æ²¡æœ‰åŒ¹é…
  // let [age, [salary, [name]]] = [20, 3000, 'Sill']
  console.log('age = ' + age)
  console.log('salary = ' + salary)
  console.log('name = ' + name)
  ```

- è‹¥æ²¡æœ‰å¯¹åº”çš„åŒ¹é…å€¼åˆ™ä½åŒ¹é…åˆ°çš„å€¼ä¸º undefinedï¼ˆä¸ä¼šæŠ¥é”™ï¼‰

  ```js
  let [m, n] = ['a']
  console.log('m = ' + m) // m = a
  console.log('n = ' + n) // n = undefined
  ```

- éƒ¨åˆ†åŒ¹é…åˆ™å¤šå‡ºæ¥å€¼çš„è¢«å¿½ç•¥äº†ï¼ˆä¸ä¼šæŠ¥é”™ï¼‰

  ```js
  let [m, n] = ['a', 'b', 'c']
  console.log('m = ' + m) // m = a
  console.log('n = ' + n) // n = b
  ```

- åŒ¹é…å‰©ä½™çš„å€¼

  ```js
  // å¦‚æœè¿™æ ·è§£æ„èµ‹å€¼ï¼Œåˆ™våˆ™å˜ä¸ºä¸€ä¸ªæ•°ç»„å­˜æ”¾å‰©ä½™çš„æ‰€æœ‰å€¼
  let [m, n, ...v] = ['a', 'b', 'c', 'd', 'e', 'f']
  ```

- åŒ¹é…ä¸æˆåŠŸåˆ™ç›´æ¥æŠ¥é”™

  ```js
  let [v1] = 12 //ç›´æ¥æŠ¥é”™
  ```

- Generator å‡½æ•°çš„è§£æ„èµ‹å€¼ï¼ˆåæ–‡ä¼šè¯¦ç»†è®²è§£ Generator å‡½æ•°ï¼‰

  ```js
  // Generator å‡½æ•°ï¼Œå¤©ç”Ÿå…·æœ‰ Iterator æ¥å£ï¼Œæ‰€ä»¥å¯ä»¥è¿›è¡Œè§£æ„
  // Generator ä¼šæ²¡è°ƒç”¨ä¸€æ¬¡ï¼Œä¼šæš‚åœï¼Œæ‰€ä»¥ä¸‹é¢çš„æ–¹æ³•ä¸ä¼šæ— é™å¾ªç¯
  let gen = function* (x) {
      while (true) {
          yield x 	// ç¬¬ä¸€æ¬¡ 10 ç¬¬äºŒæ¬¡ 12 ç¬¬ä¸‰æ¬¡ 14
          x = x + 2 // ç¬¬ä¸€æ¬¡ 12 ç¬¬äºŒæ¬¡ 14 ç¬¬ä¸‰æ¬¡ 16
      }
  }
  // æ­£å¦‚å¼€å¤´è¯´çš„ï¼Œå› ä¸ºæŒ‡å‘çš„æ˜¯yieldï¼Œæ‰€ä»¥ç»“æœå¦‚ä¸‹æ‰€ç¤º
  let [g1, g2 ,g3] = gen(10)
  console.log('g1 = ' + g1) // g1 = 10
  console.log('g2 = ' + g2) // g2 = 12
  console.log('g3 = ' + g3) // g3 = 14
  ```

- è§£æ„èµ‹å€¼çš„é»˜è®¤å€¼

  ```js
  let [name1] = []
  console.log('name1 = ' + name1) // name1 = undefined
  let [name2 = 'Bill'] = []
  console.log('name1 = ' + name2) // name2 = Bill
  let f = function () {
      console.log('f')
      return 'hello'
  }
  let ff = function () {
      console.log('ff')
  }
  let [f1 = f(), f2 = ff(), f3 = f] = []// f ff è¿™æ˜¯å‡½æ•°ç›´æ¥è°ƒåŠ¨çš„ç»“æœ
  console.log('f1 = ' + f1)// f1 = hello
  console.log('f2 = ' + f2)// f2 = undefined å› ä¸ºffå‡½æ•°æ²¡æœ‰è¿”å›å€¼
  console.log('f3 = ' + f3)// f3 =  let f = function () { è¿™æ ·ä¼šç›´æ¥è¾“å‡ºå‡½æ•°ä½“
  //    								console.log('f')
  //     								return 'hello'
  // 								}
  let [xx = yy, yy = 20] = [] // ç›´æ¥æŠ¥é”™ï¼ˆæš‚æ—¶æ€§æ­»åŒºï¼Œå› ä¸º xx å®šä¹‰æ—¶ yy è¿˜æ²¡æœ‰å®šä¹‰ï¼‰
  ```

#### å¯¹è±¡çš„è§£æ„èµ‹å€¼

- å˜é‡å½¢å¼çš„èµ‹å€¼

  ```js
    var {name3, age1} = {age1: 30, name3: 'Bill'} // å› ä¸ºæœ‰é”®å€¼å¯¹çš„å…³ç³»ï¼Œæ‰€ä»¥é¡ºåºå¯ä»¥æ‰“ä¹±
    console.log(name3,age1) // Bill 30
  
    var {value1, value2} = {value1: 30} 
    console.log(value1, value2) // 30 undefined
  
    let { baz } = { foo: 'aaa', bar: 'bbb' }
    console.log(baz) // undefined
  ```

- å¯¹è±¡å½¢å¼çš„èµ‹å€¼

  ```js
  var {product: a1, price: b1} = {product:'phone', price:'666'}
  console.log('a1 = ' + a1, 'b1 = ' +b1)// a1 = phone b1 = 666
  let { foo: baz } = { foo: 'aaa', baz: 'bbb' };
  // ç›¸å½“äº = åé¢{}çš„ foo çš„å€¼ ç»™äº† = å‰é¢{}çš„ baz
  console.log('foo = ' + foo, 'baz = ' + baz)
  // foo error:foo is not defined; baz  aaa
  ```

- æ··åˆå½¢å¼çš„èµ‹å€¼

  ```js
  var {product: a2, price1} = {product: 'pen', price1: 777}
  console.log('a2 = ' + a2, 'price1 = ' + price1) // a2 = pen price1 = 777
  ```

- å˜é‡å½¢å¼çš„é‡å¤èµ‹å€¼ï¼Œä¼šæŠ¥é”™

  ```js
  let {v1, v2} = {v1: 20, v2: 30}
  let v1 = 50 // ç›´æ¥æŠ¥é”™ï¼ˆlet çš„é‡å¤å®šä¹‰ï¼‰
  ```
  
- åµŒå¥—èµ‹å€¼

  ```js
  var obj = {p: ['hello', {x: 100}]}
  var {p: [s, {x:y}]} = obj
  console.log('s = ' + s)// s = hello
  console.log('y = ' + y)// y = 100
  ```

- é»˜è®¤å€¼

  ```js
  var {x = 4} = {}
  console.log('x = ' + x)// 4
  var {message: msg = 'hello'} = {}
  console.log('msg = ' + msg)// msg = hello
  ```

- åæœŸèµ‹å€¼çš„æ–¹å¼

  ```js
  var x
  var y
  x = 30
  // js ç¼–è¯‘å™¨ä¼šæŠŠæ²¡æœ‰ var let const å£°æ˜çš„{}ï¼Œå½“æˆæ˜¯ä»£ç å—ï¼Œè€Œä¸æ˜¯å˜é‡ç»„
  {x, y} = {x:20, y:30}// æŠ¥é”™
  // ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜å¯ä»¥åœ¨è¿™ä¸ªå¤–é¢åŠ ä¸€ä¸ª()
  ;({x, y} = {x:20, y:30})// èµ‹å€¼æˆåŠŸ
  ```

- å¯¹è±¡æ–¹æ³•èµ‹å€¼

  ```js
  let {sin, cos} = Math // å…¶å®å°±æ˜¯æŠŠ Math.sin å’Œ Math.cos ä¸¤ä¸ªæ–¹æ³•èµ‹å€¼ç»™äº† sin å’Œ cos
  console.log('cos(Ï€) = ' + cos(Math.PI))// cos(Ï€) = -1
  ```
```
  

#### å­—ç¬¦ä¸²ã€æ•°å€¼å’Œå¸ƒå°”å€¼çš„è§£æ„èµ‹å€¼

- å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼

  ```js
  let [a, b, c, d, e] = 'hello'
  console.log(a, b, c, d, e)// h e l l o
  const {length:len} = 'How are you?'
  console.log(len)// 12
```

- æ•°å€¼çš„è§£æ„èµ‹å€¼

  ```js
  // æ•°å€¼çš„è§£æ„å›ºæ‰§ ï¼ˆå¦‚æœ = å³ä¾§ä¸æ˜¯å¯¹è±¡ï¼Œç³»ç»Ÿä¼šå°†å…¶è½¬åŒ–ä¸ºå¯¹è±¡ï¼Œç„¶ååœ¨è§£æ„ï¼‰
  let {toString: s} = 456
  if (s === Number.prototype.toString) {
      console.log('s === Number.prototype.toString')
  }
  ```

- å¸ƒå°”å€¼çš„è§£æ„èµ‹å€¼

  ```js
  let {toString: s} = true
  if (s === Boolean.prototype.toString) {
      console.log('s === Boolean.prototype.toString')
  }
  ```

- å› ä¸º undefined å’Œ null æ— æ³•è½¬åŒ–ä¸ºå¯¹è±¡ï¼Œæ‰€ä»¥æ— æ³•è§£æ„

#### å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼

ä¸»è¦ç”¨äºåŠ¨æ€å‡½æ•°ï¼Œæˆ‘ä¸ªäººæ„Ÿè§‰æ²¡ä»€ä¹ˆç”¨ å› ä¸º js å‡½æ•°ä½“æœ¬èº«å°±å¯ä»¥é€šè¿‡ arguments å¯¹è±¡æ¥æ¥å—åŠ¨æ€å‚æ•°ï¼Œå¦‚æœä¸æ˜¯åŠ¨æ€å‚æ•°å°±æ›´ä¸å¿…è¦äº†ã€‚

```js
var foo = function ([...v]) {
    v.map(x => console.log(x))
}
foo([1,2,3,4,5])
```

### å˜é‡è§£æ„çš„åº”ç”¨

- å˜é‡äº¤æ¢

  ```js
  var m = 1
  var n = 2
  ;[m, n] = [n, m]
  console.log("m = " + m)// m = 2 
  console.log("n = " + n)// n = 1
  ```

- å‡½æ•°è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå¹¶å°†è¿”å›ç»“æœèµ‹ç»™å¤šä¸ªå˜é‡

  ```js
  var multiNames = function () {
      return ['Bill', 'Mike', 'John']
  }
  var [name11, name22, name33] = multiNames()
  console.log('name11 = ' + name11)// name11 = Bill
  console.log('name22 = ' + name22)// name22 = Mike
  console.log('name33 = ' + name33)// name33 = John
  ```

- ä½¿ç”¨å¯¹è±¡å½¢å¼çš„å‚æ•°ï¼Œå¯ä»¥æ— åºä¼ é€’å‚æ•°

  ```js
  var sub = function ({x, y, z}) {
      return x - y - z
  }
  console.log(sub({z: 20, y:-15, x:10}))// 5
  ```

- å‡½æ•°å‚æ•°å¯ä»¥ä½¿ç”¨é»˜è®¤å€¼

- éå† Map æ•°æ®ç»“æ„

  - ```js
    //mapæ˜¯ESæä¾›çš„ä¸€ç§å­—å…¸æ•°æ®ç»“æ„ã€‚
    
    //å­—å…¸ç»“æ„â€”â€”ç”¨æ¥å­˜å‚¨ä¸é‡å¤keyçš„hashç»“æ„ã€‚ä¸åŒäºé›†åˆï¼ˆsetï¼‰çš„æ˜¯ï¼Œå­—å…¸ä½¿ç”¨çš„æ˜¯é”®å€¼å¯¹çš„å½¢å¼æ¥å­˜å‚¨æ•°æ®
    
    //JavaScriptå¯¹è±¡ï¼ˆobjectï¼š{}ï¼‰åªèƒ½ç”¨å­—ç¬¦ä¸²æ¥å½“keyï¼Œè¿™å¯¹ä½¿ç”¨å¸¦æ¥äº†ä¸ä¾¿
    
    //ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒES6æä¾›äº†mapæ•°æ®ç»“æ„ã€‚å…¶ç±»ä¼¼äºå¯¹è±¡ï¼Œä¹Ÿæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œä½†â€œkeyâ€çš„èŒƒå›´ä¸ä»…é™äºå­—ç¬¦ä¸²ï¼Œè€Œæ˜¯å„ç§ç±»å‹çš„å€¼éƒ½å¯ä»¥å½“åškeyã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œobjectæä¾›äº†â€œå­—ç¬¦ä¸²-å€¼â€çš„å¯¹åº”ç»“æ„ï¼Œmapåˆ™æä¾›çš„æ˜¯â€œå€¼-å€¼â€çš„å¯¹åº”ã€‚æ˜¯ä¸€ç§æ›´åŠ å®Œå–„çš„hashç»“æ„
    const map=new Map([
         ['a',1],
         ['b',2]
    ]);
    console.log(map);
    ```
  
  - ä»»ä½•éƒ¨ç½²äº† Iterator æ¥å£çš„å¯¹è±¡ï¼Œéƒ½å¯ä»¥ä½¿ç”¨ forâ€¦ofå¾ªç¯å˜é‡
  
  - Map ç»“æ„åŸç”Ÿæ”¯æŒ Iterator æ¥å£
  
  ```js
  var map = new Map()
  map.set('id', 49)
  map.set('name', 'John')
  map.set('age', 20)
  for (let [key, value] of map) {
      console.log(key + ': ' + value)
  }
  ```

### å­—ç¬¦ä¸²çš„æ‰©å±•

- å­—ç¬¦çš„ Unicode è¡¨ç¤ºæ³•

  - Unicode æ˜¯ä¸€ç§å­—ç¬¦çš„ç¼–ç æ–¹å¼ï¼Œå¯ä»¥å°†ä¸€ä¸ªå­—ç¬¦å¯¹åº”æˆä¸€ä¸ªæ•°å­—
  - js ä¸­ç”¨ \uxxxx è¡¨ç¤º Unicode ç¼–ç ï¼Œx ä¸º16è¿›åˆ¶æ•°å­— \u0000 ~ \uFFFF

  ```js
  var s = 'ä¸­'
  // string.charCodeAt(0), è¿”å›å€¼æ˜¯10è¿›åˆ¶ç¼–ç ï¼Œå‚æ•°ä¸ºå­—ç¬¦ä¸²çš„ç¬¬å‡ ä¸ªå­—ç¬¦
  // .toString(16), è¡¨ç¤ºè½¬ä¸º16è¿›åˆ¶ç¼–ç 
  console.log('ä¸­: ' + s.charCodeAt(0).toString(16)) // 4e2d
  console.log('\u4e2d') // ä¸­
  // å¦‚æœæ˜¯ Unicode2 åˆ™è¦ç”¨ ES6 æ–°å¢çš„ \u{xxxxx}
  console.log('\u{1f412}')// ğŸ’
  var ss = 'ğŸ’' // æ­¤å¤„çš„ ğŸ’ æ˜¯ utf-16 ç¼–ç 
  // å› ä¸º utf-16 å­—ç¬¦ä¸²é•¿åº¦ä¸º 2ï¼Œä¸¤æ¬¡è¾“å‡ºæ‰æ˜¯è¿™ä¸ªå®Œæ•´çš„å­—ç¬¦
  console.log('ğŸ’: ' + ss.charCodeAt(0).toString(16))// ğŸ’: d83d
  console.log('ğŸ’: ' + ss.charCodeAt(1).toString(16))// ğŸ’: dc12
  console.log('\ud83d\udc12')// ğŸ’ æ­¤å¤„çš„ utf-16 å’Œ Unicode2 ç›¸å¯¹åº”
  console.log('ğŸ’: ' + ss.codePointAt(0).toString(16))// ğŸ’: 1f412 ç›´æ¥è·å¾— Unicode2 ç¼–ç 
  ```

- String.fromCodePoint

  ```js
  // å¯¹ ES5 çš„ String.fromCharCode() çš„è¡¥å……ï¼Œå› ä¸ºè¿™ä¸ªæ–¹æ³•åªèƒ½é€‚ç”¨äº Unicode1ï¼Œ
  console.log(String.fromCharCode(0x9f99))// é¾™
  console.log(String.fromCharCode(0x1f412))// ï’
  // å¯¹ Unicode2 ä¹Ÿæ”¯æŒ
  console.log(String.fromCodePoint(0x9f99))// é¾™
  console.log(String.fromCodePoint(0x1f412))// ğŸ’
  ```

- å­—ç¬¦ä¸²çš„éå†å™¨æ¥å£

  - ES6 ä¸ºå­—ç¬¦ä¸²æ·»åŠ äº†éå†å™¨æ¥å£ï¼Œä½¿å­—ç¬¦ä¸²å¯ä»¥ç”± forâ€¦of å¾ªç¯éå†

  ```js
  var text = 'ğŸ’é¾™'
  for (let c of text) {
      console.log(c)
  }
  // ğŸ’
  // é¾™
  ```

- åœ¨å­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾å­å­—ç¬¦ä¸²

  ```js
  // ES5 indexOf
  // ä»ç¬¬0ä½å¼€å§‹æŸ¥æ‰¾ 'cd',ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®
  console.log('cdabcde'.indexOf('cd',0))// 0
  // ä»ç¬¬1ä½å¼€å§‹æŸ¥æ‰¾ 'cd'
  console.log('cdabcde'.indexOf('cd',1))// 4
  // ES6
  // includes() è¿”å›å€¼ä¸ºå¸ƒå°”ç±»å‹ï¼Œç”¨äºåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦å­˜åœ¨äºåŸå­—ç¬¦ä¸²
  console.log('cdabcde'.includes('cd'))// true
  console.log('cdabcde'.includes('cdf'))// false
  // startsWith() è¿”å›å€¼ä¸ºå¸ƒå°”ç±»å‹ï¼Œç”¨äºåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŸå­—ç¬¦ä¸²å¼€å¤´
  console.log('cdabcde'.startsWith('cd'))// true
  console.log('cdabcde'.startsWith('ccd'))// false
  // endsWith() è¿”å›å€¼ä¸ºå¸ƒå°”ç±»å‹ï¼Œç”¨äºåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŸå­—ç¬¦ä¸²ç»“å°¾
  console.log('cdabcde'.endsWith('cd'))// false
  console.log('cdabcde'.endsWith('de'))// true
  ```

- å°†åŸå­—ç¬¦ä¸²é‡å¤ n æ¬¡

  ```js
  // repeat() å°†ä¸€ä¸ªå­—ç¬¦ä¸²é‡å¤ n æ¬¡
  // å¦‚æœå‚æ•°æ˜¯0ï¼Œåˆ™è¾“å‡ºä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼›å¦‚æœå‚æ•°æ˜¯æµ®ç‚¹æ•°ï¼Œåˆ™èˆå»å°æ•°éƒ¨åˆ†ç›´æ¥å–æ•´ï¼›å¦‚æœå‚æ•°æ˜¯è´Ÿæ•°æˆ–Infinityï¼ˆæ— ç©·ï¼‰ï¼Œåˆ™ä¼šæŠ›å‡ºé”™è¯¯ï¼›å¦‚æœå‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå¦‚æœå­—ç¬¦ä¸²æ˜¯çº¯æ•°å­—ï¼Œåˆ™ä¼šé‡å¤næ¬¡ï¼Œå¦‚æœå­—ç¬¦ä¸²ä¸æ˜¯çº¯æ•°å­—åˆ™è¾“å‡ºç©ºå­—ç¬¦ä¸²
  console.log('x'.repeat(5))
  ```
  
- æ¨¡æ¿å­—ç¬¦ä¸²

  - ç”¨ ` åŒ…è£¹çš„å­—ç¬¦ä¸²ï¼Œå…¶å¯ä»¥ä¿ç•™å­—ç¬¦ä¸²çš„æ ¼å¼

  ```js
  console.log(`hello
  	world`)
  //è¾“å‡ºå¦‚ä¸‹
  hello
       world
  ```

  - ä¹Ÿå¯ä»¥åœ¨æ¨¡æ¿å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡ ${}ï¼Œå¤§æ‹¬å·ä¸­å¯ä»¥æ”¾ä»»ä½•è¡¨è¾¾å¼ï¼Œå¯ä»¥è¿›è¡Œè¿ç®—ï¼Œä¹Ÿå¯ä»¥æ”¾å‡½æ•°

  ```js
  var name = 'Bill'
  console.log(`name = ${name}`)// name = Bill
  var x = 10
  var y = 20
  console.log(`${x} + ${y} = ${x + y}`)// 10 + 20 = 30
  var wow = function () {
      return 'wow function'
  }
  console.log(`${wow()}`)// wow function
  ```

- æ ‡ç­¾æ¨¡æ¿

  - å‡½æ•°çš„ä¸€ç§ç‰¹æ®Šè°ƒç”¨å½¢å¼

  ```js
  var x = 1
  var y = 2
  var fun = function (s, n, m) {
      console.log(s)// ["abc", "def", "ccc"]
      console.log(n)// 1
      console.log(m)// 2
  }
  fun`abc${x}def${y}ccc`
  // éæ¨¡æ¿å­—ç¬¦ä¸²æ–¹å¼æ”¾å…¥ç¬¬ä¸€ä¸ªå‚æ•°(æ¨¡æ¿å˜é‡èµ·åˆ†å‰²ç¬¦ä½œç”¨)ï¼Œæ¨¡æ¿å­—ç¬¦ä¸²ä¸­çš„å˜é‡å½“åšå¦å¤–çš„å‚æ•°ï¼Œæ¨¡æ¿å˜é‡å°‘äº†åˆ™å‡½æ•°åé¢ç¼ºçš„å‚æ•°ä¸º undefinedï¼›æ¨¡æ¿å˜é‡å¤šäº†ï¼Œåˆ™å¤šçš„éƒ¨åˆ†èˆå»ä¸ç”¨ï¼Œä¸ä¼šæŠ¥é”™
  ```

  - ç”¨äºè¿‡æ»¤ HTML å­—ç¬¦ä¸²ï¼Œå°±æ˜¯æŠŠé¡µé¢ä¸èƒ½ç›´æ¥æ˜¾ç¤ºçš„ < > ç©ºæ ¼ æ”¹ä¸º html çš„è¾“å‡ºæ–¹å¼

  ```js
  function SaferHTML(templateData) {
    let s = templateData[0];
    for (let i = 1; i < arguments.length; i++) {
      let arg = String(arguments[i]);
  
      s += arg.replace(/&/g, "&amp;")
              .replace(/</g, "&lt;")
              .replace(/>/g, "&gt;")
  
      s += templateData[i];
    }
    return s;
  }
  var sender = '<script>'
  var message = SaferHTML`<p>${sender}</p>`// <p>&lt;script&gt;</p> domå…ƒç´ å°±å¯ä»¥ç›´æ¥ç”¨äº†
  ```

- String.raw æ–¹æ³•

  - ç›´æ¥è¾“å‡ºæœ€åŸå§‹çš„å­—ç¬¦ä¸²
  - è¿™ä¸ªå‡½æ•°å¯ä»¥è¯´æ˜¯ç»™æ¨¡æ¿å­—ç¬¦ä¸²è®¾è®¡çš„ï¼Œå› ä¸ºå‚æ•°ååˆ†å¤æ‚ï¼Œå¦‚æœç”¨æ™®é€šçš„è°ƒç”¨ä¼šååˆ†çš„å¤æ‚ï¼Œä½†æ˜¯å¾ˆç¬¦åˆç”¨æ ‡ç­¾æ¨¡æ¿çš„æ–¹å¼è°ƒç”¨çš„æ–¹å¼

  ```js
  console.log('abc \n xyz')
  // è¾“å‡ºå¦‚ä¸‹
  abc 
   xyz
   
   console.log(String.raw`abc \n xyz`)// abc \n xyz
  
  // æ­£å¸¸æƒ…å†µä¸‹ï¼Œä½ ä¹Ÿè®¸ä¸éœ€è¦å°† String.raw() å½“ä½œå‡½æ•°è°ƒç”¨ã€‚å¯ä»¥ç†è§£ä¸ºrawæ•°ç»„å’Œåé¢çš„å‚æ•°äº¤æ›¿è¾“å‡º
  // ä½†æ˜¯ä¸ºäº†æ¨¡æ‹Ÿ `t${0}e${1}s${2}t` ä½ å¯ä»¥è¿™æ ·åš:
  String.raw({ raw: 'test' }, 0, 1, 2); // 't0e1s2t'
  // æ³¨æ„è¿™ä¸ªæµ‹è¯•, ä¼ å…¥ä¸€ä¸ª string, å’Œä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡
  // ä¸‹é¢è¿™ä¸ªå‡½æ•°å’Œ `foo${2 + 3}bar${'Java' + 'Script'}baz` æ˜¯ç›¸ç­‰çš„.
  String.raw({
    raw: ['foo', 'bar', 'baz'] 
  }, 2 + 3, 'Java' + 'Script'); // 'foo5barJavaScriptbaz'
  ```


### æ•°å€¼çš„æ‰©å±•

- æ–°çš„äºŒè¿›åˆ¶å’Œå…«è¿›åˆ¶è¡¨ç¤ºæ³•

  - äºŒè¿›åˆ¶ï¼š0b/0B
  - å…«è¿›åˆ¶ï¼š0o/0O

  ```js
  var n1 = 345
  var n2 = 0o531
  var n3 = 0b101011001
  if (n1 == n2) {
      console.log('n1 == n2')
  }
  // n1 == n2
  if (n3 == n2) {
      console.log('n3 == n2')
  }
  // n2 == n3
  
  //å°†äºŒè¿›åˆ¶å’Œå…«è¿›åˆ¶è½¬å›åè¿›åˆ¶
  console.log(Number('0o531'))// 345
  console.log(Number('0b101011001'))// 345
  ```

- Number.isFinite å’Œ Number.isNaN

  ```js
  // ES6 æä¾›äº†è¿™ä¸¤ä¸ªæ–¹æ³•æ¥åˆ¤æ–­æ•°å€¼æ˜¯å¦æ˜¯ æœ‰é™å€¼ å’Œ NaNï¼Œå› ä¸ºè¿™ä¸ªæ–¹æ³•æ˜¯åœ¨ Number å¯¹è±¡çš„ï¼Œæ‰€ä»¥æ‰€æœ‰éæ•°å€¼å‚æ•°ä¼ å‚éƒ½è¿”å›false
  console.log(Number.isFinite(20))// true
  console.log(Number.isFinite(Infinity))// false
  console.log(Number.isFinite(NaN))// false
  console.log(Number.isFinite('20'))// false
  
  console.log(Number.isNaN(20))// false
  console.log(Number.isNaN(Infinity))// false
  console.log(Number.isNaN(NaN))// true
  console.log(Number.isNaN(20/NaN))// true
  console.log(Number.isNaN('20'/'2'))// false (å› ä¸ºè¿›è¡Œè¿ç®—è‡ªåŠ¨è½¬ä¸ºäº†æ•°å­—ï¼Œæ‰€ä»¥æ˜¯ false)
  console.log(Number.isNaN('a'))// false (éæ•°å€¼)
  console.log(Number.isNaN('a'/1))// true (å¯¹éæ•°å­—å­—ç¬¦ä¸²è¿›è¡Œè¿ç®—ï¼Œæ‰€ä»¥æ˜¯ NaN)
  console.log(Number.isNaN('a'/'b'))// true (åŒä¸Š)
  ```
  
- Number.parseInt ã€Number.parseFloat ã€Number.isInteger

  - å‰ä¸¤ä¸ªæ–¹æ³•å’Œ ES5 çš„å…¨å±€æ–¹æ³•ä¿æŒä¸€è‡´ï¼Œä½†æ˜¯ `Number.isInterger` æ–¹æ³•éæ•°å€¼ä½œä¸ºå‚æ•°ä¼ å‚ç›´æ¥è¿”å› false

- Number.EPSILON (æå°å€¼)

  - å› ä¸ºå‰ç«¯å¯¹æµ®ç‚¹æ•°çš„è¿ç®—éƒ½æ˜¯æœ‰è¯¯å·®çš„ï¼Œæ‰€ä»¥å¼•å…¥äº†è¿™ä¸ªæå°å€¼æ¥æ¶ˆé™¤è¯¯å·®

  ```js
  console.log(0.1 + 0.2) // 0.30000000000000004
  // æ‰€ä»¥ç”¨å‰ç«¯åˆ¤æ–­æµ®ç‚¹æ•°æ˜¯æœ‰é—®é¢˜çš„
  console.log(0.1 + 0.2 == 0.3) // false
  console.log(((0.1 + 0.2)-0.3) < Number.EPSILON) // true åšå·®åå°äºæå°å€¼ï¼Œè¿‘ä¼¼ç›¸ç­‰
  ```

### Mathå¯¹è±¡çš„æ‰©å±•

- Math.trunc  

  - ç”¨äºå»é™¤ä¸€ä¸ªæ•°çš„å°æ•°éƒ¨åˆ†ï¼Œè¿”å›æ•´æ•°éƒ¨åˆ†ï¼Œç›´æ¥ä¿ç•™ç¬¦å·ä½
  - å¯¹äºéæ•°å€¼å‚æ•°ï¼ŒMath.trunc å†…éƒ¨ä¼šä½¿ç”¨ Number æ–¹æ³•å°†å…¶è½¬æ¢ä¸ºæ•°å€¼ç±»å‹

  ```js
  Math.trunc(4.1) // 4
  Math.trunc(4.8) // 4
  Math.trunc(-4.1) // -4
  Math.trunc(-4.8) // -4
  Math.trunc(-0.123)// -0 å…¶å®-0å’Œ0æ˜¯ä¸¥æ ¼ç›¸ç­‰çš„ å³ -0 === 0 
  
  Math.trunc('asd')// NaN
  Math.trunc('1.1')// 1
  Math.trunc()// NaN
  ```

- Math.sign

  - ç”¨äºåˆ¤æ–­ä¸€ä¸ªæ•°åˆ°åº•æ˜¯æ­£æ•°ã€è´Ÿæ•°è¿˜æ˜¯0
    - å‚æ•°ä¸ºæ­£æ•°ï¼šè¿”å› 1
    - å‚æ•°ä¸ºè´Ÿæ•°ï¼šè¿”å› -1
    - å‚æ•°ä¸º 0ï¼š è¿”å› 0
    - å‚æ•°ä¸º -0ï¼šè¿”å› -0
    - å‚æ•°ä¸ºå…¶ä»–å€¼ï¼šè¿”å› NaN

- Math.cbrt

  - ç”¨äºè®¡ç®—ä¸€ä¸ªæ•°çš„ç«‹æ–¹æ ¹ï¼ˆx^(-3)ï¼‰

- Math.clz32

  - JSçš„æ•´æ•°ä½¿ç”¨32ä½äºŒè¿›åˆ¶å½¢å¼è¡¨ç¤ºï¼Œè¿”å›å€¼æ˜¯32ä½æ— ç¬¦å·æ•´æ•°å½¢å¼æœ‰å¤šå°‘ä¸ªå‰å¯¼0
  - å‚æ•°ä¸ºå°æ•°ï¼Œåªå–å…¶æ•´æ•°éƒ¨åˆ†åˆ¤æ–­
  - å‚æ•°ä¸ºè´Ÿæ•°ï¼Œè¿”å›å€¼ä¸º 0
  - å‚æ•°ä¸º trueï¼Œè¿”å›å€¼ä¸º 31ï¼Œå› ä¸º true æ•°å€¼ç±»å‹æ˜¯ç­‰äº 1ï¼Œfalse ç­‰äº0
  - å‚æ•°ä¸ºå…¶ä»–å€¼ï¼Œè¿”å›å€¼å…¨éƒ¨ä¸º 32

  ```js
  Math.clz(2) // 30 æœ‰30ä¸ªé›¶åœ¨1å‰é¢ 000...0010
  Math.clz32(2.123456)// 30
  ```

- Math.imul

  - è¿”å›ä¸¤ä¸ªæ•°ä»¥32ä½å¸¦ç¬¦å·æ•´æ•°å½¢å¼ç›¸ä¹˜çš„ç»“æœï¼Œè¿”å›å€¼ä¹Ÿæ˜¯32ä½å¸¦ç¬¦å·æ•´æ•°ï¼Œç³»ç»Ÿé»˜è®¤è½¬å›10è¿›åˆ¶æ•°

- Math.fround

  - è¿”å›ä¸€ä¸ªæ•°çš„å•ç²¾åº¦æµ®ç‚¹æ•°å½¢å¼

- Math.hypot

  - è¿”å›æ‰€æœ‰å‚æ•°çš„å¹³æ–¹å’Œçš„å¹³æ–¹æ ¹ï¼ˆç”¨äºç›¸é‡çš„æ¨¡ï¼Œå‘é‡çš„æ¨¡ï¼Œä¸¤ç‚¹é—´è·ç¦»å…¬å¼ç­‰ï¼‰

- æ–°å¢è®¡ç®—æ–¹æ³•

  - Math.expm1
    - è¿”å› (e^x) - 1
  - Math.log1p
    - è¿”å› ln(1+x)
  - Math.log10
    - è¿”å› ä»¥10 ä¸ºåº•çš„å¯¹æ•° lgx
  - Math.log2
    - è¿”å› ä»¥2 ä¸ºåº•çš„å¯¹æ•° lbx

### æ•°ç»„çš„æ‰©å±•

- Array.from

  - å°†ä¸¤ç±»å¯¹è±¡è½¬åŒ–ä¸ºæ•°ç»„
    - ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼ˆä¼ªæ•°ç»„ï¼‰
    - å¯éå†çš„å¯¹è±¡ï¼ˆIterator ï¼‰
  - å¯éå†çš„å¯¹è±¡
  
  ```js
  let obj1 = {
      0: 'hello',
      1: 'world',
      length: 2
  }
  // æ ¹æ® length æ¥è®¾ç½®æ•°ç»„é•¿åº¦ï¼Œå°‘åˆ™èˆï¼Œå¤šåˆ™ undefined
Array.from(obj1) // ["hello", "world"]
  
  // å¯éå†
  Array.from('string')// ["s", "t", "r", "i", "n", "g"]
  // Array.from æ–¹æ³•è¿˜å¯ä»¥æ¥å—ç¬¬äºŒä¸ªå‚æ•°ï¼Œå’Œ map æ–¹æ³•ç±»ä¼¼ï¼Œéå†æ•°ç»„å…ƒç´ è¿”å›ä¸€ä¸ªæ–°æ•°ç»„
  Array.from([1, 2, 3, 4], x => x*x)// [1, 4, 9, 16]
  // å¯ç”¨äºå‚æ•°éšæœºæ•°æ•°ç»„
  Array.from({length: 5}, () => Math.random())
  ```
  
- Array.of

  - ç”¨äºå°†ä¸€ç»„å€¼è½¬æ¢ä¸ºæ•°ç»„
  - Array.of å‡ºç°çš„ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†å¼¥è¡¥ Array() çš„ä¸è¶³

  ```js
  Array.of(1, 2, 3, 4, 5)// [1, 2, 3, 4, 5]
  Array.of(1)// [1]
  Array.of(10).length// 1
  // åŒºåˆ«äº Array() æ„é€ å‡½æ•°
  Array(1, 2)// [1, 2]
  Array() // []
  Array(10)// [] é•¿åº¦ä¸º10ï¼Œæ¯ä¸ªå…ƒç´ éƒ½ä¸ºç©ºçš„æ•°ç»„
  Array(10).length// 10
  ```

- æ•°ç»„å®ä¾‹çš„ copyWithin

  - ç”¨äºåœ¨å½“å‰æ•°ç»„å†…éƒ¨ï¼Œå°†æŒ‡å®šä½ç½®çš„æˆå‘˜å¤åˆ¶åˆ°å…¶ä»–ä½ç½®ï¼ˆä¼šè¦†ç›–åŸæœ‰æˆå‘˜ï¼‰ï¼Œç„¶åè¿”å›å½“å‰æ•°ç»„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œä¼šä¿®æ”¹å½“å‰æ•°ç»„ã€‚
  - å®ƒæ¥å—ä¸‰ä¸ªå‚æ•°ã€‚
    - targetï¼ˆå¿…éœ€ï¼‰ï¼šä»è¯¥ä½ç½®å¼€å§‹æ›¿æ¢æ•°æ®ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºå€’æ•°ã€‚
    - startï¼ˆå¯é€‰ï¼‰ï¼šä»è¯¥ä½ç½®å¼€å§‹è¯»å–æ•°æ®ï¼Œé»˜è®¤ä¸º 0ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºä»æœ«å°¾å¼€å§‹è®¡ç®—ã€‚
    - endï¼ˆå¯é€‰ï¼‰ï¼šåˆ°è¯¥ä½ç½®å‰åœæ­¢è¯»å–æ•°æ®ï¼Œé»˜è®¤ç­‰äºæ•°ç»„é•¿åº¦ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºä»æœ«å°¾å¼€å§‹è®¡ç®—

  ```js
  [1, 2, 3, 4, 5, 6].copyWithin(0, 3)// [4, 5, 6, 4, 5, 6]
  ```

- æ•°ç»„å®ä¾‹çš„ find å’Œ findIndex æ–¹æ³•

  - ç”¨æ¥æ‰«ææ•°ç»„ï¼ŒæŸ¥æ‰¾ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„æ•°ç»„å…ƒç´ 
  - find è¿”å›æ•°ç»„å…ƒç´ æœ¬èº«
  - findIndex è¿”å›æ•°ç»„å…ƒç´ çš„ç´¢å¼•
  - ä¸¤ä¸ªå‚æ•°
    - å‡½æ•°ä½“
    - ç”¨æ¥ç»‘å®šå›è°ƒå‡½æ•°çš„this

  ```js
  // æ³¨æ„è¿™é‡Œ return çš„æ˜¯ä¸€ä¸ªåˆ¤æ–­çš„è¡¨è¾¾å¼ï¼Œä¸æ˜¯å…ƒç´ 
  // find() ä¼ å…¥çš„å‡½æ•°ä½“å¯ä»¥å¸¦ä¸‰ä¸ªå‚æ•°ï¼Œï¼ˆå…ƒç´ æœ¬èº«ï¼Œç´¢å¼•ï¼Œæ•°ç»„æœ¬èº«ï¼‰
  [3, 5, 1, 10, 6].find(value => value > 3)// 5
  [3, 5, 1, 10, 6].find(value => value > 111)// undefined
  [3, 5, 1, 10, 6].find(function (value, index, arr) {
      return value > 5
  })// 10
  
  [3, 5, 1, 10, 6].findIndex (value => value > 3)// 1
  ;[3, 5, 1, 10, 6].findIndex (value => value > 111)// -1
  
  // findIndex å’Œ indexOf çš„åŒºåˆ«ï¼ŒfindIndex å¯ä»¥æŸ¥è¯¢åˆ° NaN
  [NaN].indexOf(NaN) // -1 æŸ¥è¯¢ä¸åˆ°
  [NaN].findIndex(n => Object.is(NaN, n)) // 0
  ```

  - Object.is() åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸åŒã€‚å¦‚æœä¸‹åˆ—ä»»ä½•ä¸€é¡¹æˆç«‹ï¼Œåˆ™ä¸¤ä¸ªå€¼ç›¸åŒï¼š

    - ä¸¤ä¸ªå€¼éƒ½æ˜¯ undefined
    - ä¸¤ä¸ªå€¼éƒ½æ˜¯ null
    - ä¸¤ä¸ªå€¼éƒ½æ˜¯ true æˆ–è€…éƒ½æ˜¯ false
    - ä¸¤ä¸ªå€¼æ˜¯ç”±ç›¸åŒä¸ªæ•°çš„å­—ç¬¦æŒ‰ç…§ç›¸åŒçš„é¡ºåºç»„æˆçš„å­—ç¬¦ä¸²
    - ä¸¤ä¸ªå€¼æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡
    - ä¸¤ä¸ªå€¼éƒ½æ˜¯æ•°å­—å¹¶ä¸”
      - éƒ½æ˜¯æ­£é›¶ +0
      - éƒ½æ˜¯è´Ÿé›¶ -0
      - éƒ½æ˜¯ NaN
      - éƒ½æ˜¯é™¤é›¶å’Œ NaNå¤–çš„å…¶å®ƒåŒä¸€ä¸ªæ•°å­—

    è¿™ç§ç›¸ç­‰æ€§åˆ¤æ–­é€»è¾‘å’Œä¼ ç»Ÿçš„ == è¿ç®—ä¸åŒï¼Œ== è¿ç®—ç¬¦ä¼šå¯¹å®ƒä¸¤è¾¹çš„æ“ä½œæ•°åšéšå¼ç±»å‹è½¬æ¢ï¼ˆå¦‚æœå®ƒä»¬ç±»å‹ä¸åŒï¼‰ï¼Œç„¶åæ‰è¿›è¡Œç›¸ç­‰æ€§æ¯”è¾ƒï¼Œï¼ˆæ‰€ä»¥æ‰ä¼šæœ‰ç±»ä¼¼ 0 == false ç­‰äº true çš„ç°è±¡ï¼‰ï¼Œä½† Object.is ä¸ä¼šåšè¿™ç§ç±»å‹è½¬æ¢ã€‚

    è¿™ä¸ === è¿ç®—ç¬¦çš„åˆ¤å®šæ–¹å¼ä¹Ÿä¸ä¸€æ ·ã€‚=== è¿ç®—ç¬¦ï¼ˆå’Œ == è¿ç®—ç¬¦ï¼‰å°†æ•°å­—å€¼ -0 å’Œ +0 è§†ä¸ºç›¸ç­‰ï¼Œå¹¶è®¤Number.NaN ä¸º NaN ä¸ç­‰äº ã€‚

- æ•°ç»„å®ä¾‹çš„ fill æ–¹æ³•

  - ä½¿ç”¨ç»™å®šå€¼ï¼Œå¡«å……ä¸€ä¸ªæ•°ç»„ï¼Œä¸»è¦ç”¨äºçº¯å±å®è¯æ•°ç»„
  - å¦‚æœæ•°ç»„åŸæœ¬å°±æœ‰å€¼ï¼Œå°±ä¼šå°†å…¶è¦†ç›–
  - ä¸‰ä¸ªå‚æ•°
    - å¡«å……å†…å®¹ï¼ˆå¿…é¡»ï¼‰
    - å¡«å……èµ·å§‹ä½ç½®ï¼Œé»˜è®¤ä¸º0
    - å¡«å……ç»“æŸä¸ºæ­¢ï¼Œé»˜è®¤ä¸ºæ•°ç»„é•¿åº¦

  ```js
  new Array(10).fill(6)// [6, 6, 6, 6, 6, 6, 6, 6, 6, 6]
  [1,2,3].fill(6)// [6, 6, 6]
  [1,2,3].fill(6,1,2)// [1,6,3]
  ```

- æ•°ç»„å®ä¾‹çš„ entries ã€ keys å’Œ values æ–¹æ³•

  - ES6 æä¾›ä¸‰ä¸ªæ–°çš„æ–¹æ³•â€”â€”`entries()`ï¼Œ`keys()`å’Œ`values()`â€”â€”ç”¨äºéå†æ•°ç»„ã€‚å®ƒä»¬éƒ½è¿”å›ä¸€ä¸ªéå†å™¨å¯¹è±¡ï¼ˆIterator è¯¦è§åæ–‡ Iterator ä¸€èŠ‚ï¼‰ï¼Œå¯ä»¥ç”¨`for...of`å¾ªç¯è¿›è¡Œéå†ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯`keys()`æ˜¯å¯¹é”®åçš„éå†ã€`values()`æ˜¯å¯¹é”®å€¼çš„éå†ï¼Œ`entries()`æ˜¯å¯¹é”®å€¼å¯¹çš„éå†ã€‚

    ```javascript
    for (let index of ['a', 'b'].keys()) {
      console.log(index);
    }
    // 0
    // 1
    
    for (let elem of ['a', 'b'].values()) {
      console.log(elem);
    }
    // 'a'
    // 'b'
    
    for (let [index, elem] of ['a', 'b'].entries()) {
      console.log(index, elem);
    }
    // 0 "a"
    // 1 "b"
    ```

    å¦‚æœä¸ä½¿ç”¨`for...of`å¾ªç¯ï¼Œå¯ä»¥æ‰‹åŠ¨è°ƒç”¨éå†å™¨å¯¹è±¡çš„`next`æ–¹æ³•ï¼Œè¿›è¡Œéå†ã€‚

    ```javascript
    let letter = ['a', 'b', 'c'];
    let entries = letter.entries();
    console.log(entries.next().value); // [0, 'a']
    console.log(entries.next().value); // [1, 'b']
    console.log(entries.next().value); // [2, 'c']
    ```

- æ•°ç»„çš„ç©ºä½ï¼ˆArray(n) å°±æ˜¯ n ä¸ªç©ºä½çš„æ•°ç»„ï¼‰

  - æ•°ç»„çš„ç©ºä½æŒ‡ï¼Œæ•°ç»„çš„æŸä¸€ä¸ªä½ç½®æ²¡æœ‰ä»»ä½•å€¼ã€‚æ¯”å¦‚ï¼Œ`Array`æ„é€ å‡½æ•°è¿”å›çš„æ•°ç»„éƒ½æ˜¯ç©ºä½ã€‚

  - `Array(3)`è¿”å›ä¸€ä¸ªå…·æœ‰ 3 ä¸ªç©ºä½çš„æ•°ç»„ã€‚

    æ³¨æ„ï¼Œç©ºä½ä¸æ˜¯`undefined`ï¼Œä¸€ä¸ªä½ç½®çš„å€¼ç­‰äº`undefined`ï¼Œä¾ç„¶æ˜¯æœ‰å€¼çš„ã€‚ç©ºä½æ˜¯æ²¡æœ‰ä»»ä½•å€¼ï¼Œ`in`è¿ç®—ç¬¦å¯ä»¥è¯´æ˜è¿™ä¸€ç‚¹ã€‚

    ```javascript
    0 in [undefined, undefined, undefined] // true
    0 in [, , ,] // false
    ```

    ä¸Šé¢ä»£ç è¯´æ˜ï¼Œç¬¬ä¸€ä¸ªæ•°ç»„çš„ 0 å·ä½ç½®æ˜¯æœ‰å€¼çš„ï¼Œç¬¬äºŒä¸ªæ•°ç»„çš„ 0 å·ä½ç½®æ²¡æœ‰å€¼ã€‚

    ES5 å¯¹ç©ºä½çš„å¤„ç†ï¼Œå·²ç»å¾ˆä¸ä¸€è‡´äº†ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ä¼šå¿½ç•¥ç©ºä½ã€‚

    - `forEach()`, `filter()`, `reduce()`, `every()` å’Œ`some()`éƒ½ä¼šè·³è¿‡ç©ºä½ã€‚
    - `map()`ä¼šè·³è¿‡ç©ºä½ï¼Œä½†ä¼šä¿ç•™è¿™ä¸ªå€¼
    - `join()`å’Œ`toString()`ä¼šå°†ç©ºä½è§†ä¸º`undefined`ï¼Œè€Œ`undefined`å’Œ`null`ä¼šè¢«å¤„ç†æˆç©ºå­—ç¬¦ä¸²ã€‚

    ```javascript
    // forEachæ–¹æ³•
    [,'a'].forEach((x,i) => console.log(i)); // 1
    
    // filteræ–¹æ³•
    ['a',,'b'].filter(x => true) // ['a','b']
    
    // everyæ–¹æ³•
    [,'a'].every(x => x==='a') // true
    
    // reduceæ–¹æ³•
    [1,,2].reduce((x,y) => x+y) // 3
    
    // someæ–¹æ³•
    [,'a'].some(x => x !== 'a') // false
    
    // mapæ–¹æ³•
    [,'a'].map(x => 1) // [,1]
    
    // joinæ–¹æ³•
    [,'a',undefined,null].join('#') // "#a##"
    
    // toStringæ–¹æ³•
    [,'a',undefined,null].toString() // ",a,,"
    ```

    ES6 åˆ™æ˜¯æ˜ç¡®å°†ç©ºä½è½¬ä¸º`undefined`ã€‚

    `Array.from`æ–¹æ³•ä¼šå°†æ•°ç»„çš„ç©ºä½ï¼Œè½¬ä¸º`undefined`ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªæ–¹æ³•ä¸ä¼šå¿½ç•¥ç©ºä½ã€‚

    ```javascript
    Array.from(['a',,'b'])
    // [ "a", undefined, "b" ]
    ```

    æ‰©å±•è¿ç®—ç¬¦ï¼ˆ`...`ï¼‰ä¹Ÿä¼šå°†ç©ºä½è½¬ä¸º`undefined`ã€‚

    ```javascript
    [...['a',,'b']]
    // [ "a", undefined, "b" ]
    ```

    `copyWithin()`ä¼šè¿ç©ºä½ä¸€èµ·æ‹·è´ã€‚

    ```javascript
    [,'a','b',,].copyWithin(2,0) // [,"a",,"a"]
    ```

    `fill()`ä¼šå°†ç©ºä½è§†ä¸ºæ­£å¸¸çš„æ•°ç»„ä½ç½®ã€‚

    ```javascript
    new Array(3).fill('a') // ["a","a","a"]
    ```

    `for...of`å¾ªç¯ä¹Ÿä¼šéå†ç©ºä½ã€‚

    ```javascript
    let arr = [, ,];
    for (let i of arr) {
      console.log(1);
    }
    // 1
    // 1
    ```

    ä¸Šé¢ä»£ç ä¸­ï¼Œæ•°ç»„`arr`æœ‰ä¸¤ä¸ªç©ºä½ï¼Œ`for...of`å¹¶æ²¡æœ‰å¿½ç•¥å®ƒä»¬ã€‚å¦‚æœæ”¹æˆ`map`æ–¹æ³•éå†ï¼Œç©ºä½æ˜¯ä¼šè·³è¿‡çš„ã€‚

    `entries()`ã€`keys()`ã€`values()`ã€`find()`å’Œ`findIndex()`ä¼šå°†ç©ºä½å¤„ç†æˆ`undefined`ã€‚

    ```javascript
    // entries()
    [...[,'a'].entries()] // [[0,undefined], [1,"a"]]
    
    // keys()
    [...[,'a'].keys()] // [0,1]
    
    // values()
    [...[,'a'].values()] // [undefined,"a"]
    
    // find()
    [,'a'].find(x => true) // undefined
    
    // findIndex()
    [,'a'].findIndex(x => true) // 0
    ```

    ç”±äºç©ºä½çš„å¤„ç†è§„åˆ™éå¸¸ä¸ç»Ÿä¸€ï¼Œæ‰€ä»¥å»ºè®®é¿å…å‡ºç°ç©ºä½ã€‚

### å‡½æ•°çš„æ‰©å±•

- å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼

  ```js
  var write = function (x = 'Hello', y = 'world!') {
      console.log(x, y)
  }
  write()
  ```

- å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼å’Œè§£æ„èµ‹å€¼é»˜è®¤å€¼çš„ç»“åˆä½¿ç”¨

  ```js
  var fun = function ({x,y = 5}) {
      console.log(x, y)
  }
  fun()// error
  fun({})// undefined 5
  fun({x: 'hello'})// hello 5
  fun({x: 'hello',y: 'world'})// hello world
  
  var fun1 = function (n,{x,y = 5}) {
      console.log(n, x, y)
  }
  fun1(1)// error
  fun1(1,{})// 1 undefined 5
  fun1(1,{x: 'hello'})// 1 hello 5
  fun1(1,{x: 'hello',y: 'world'})// 1 hello world
  
  var fun2 =  function (n,{x,y = 5} = {}) {
      console.log(n, x, y)
  }
  fun2(1)// 1 undefined 5
  fun2(1,{})// 1 undefined 5
  fun2(1,{x: 'hello'})// 1 hello 5
  fun2(1,{x: 'hello',y: 'world'})// 1 hello world
  
  // ä¸‹é¢ä¸¤ç§ä¾‹å­çš„åŒºåˆ«
  var f1 = function ({x=0,y=0} = {}) {
      console.log(x,y)
  }
  var f2 = function ({x,y} = {x:0,y:0}) {
      console.log(x,y)
  }
  f1({x:1})// 1 0 å› ä¸ºè§£æ„èµ‹å€¼åŸæœ¬å°±æœ‰äº†é»˜è®¤å€¼ï¼Œæ‰€ä»¥è¿™æ ·è¦†ç›–è§£æ„yä¹Ÿæœ‰å€¼
  f2({x:1})// 1 undefined è¿™æ ·èµ‹å€¼ç›¸å½“äºè¦†ç›–äº†ç»™å¯¹è±¡çš„è§£æ„èµ‹å€¼ï¼Œæ‰€ä»¥yæœªå®šä¹‰
  ```

- è·å–å‡½æ•°æ— é»˜è®¤å€¼å‚æ•°çš„ä¸ªæ•°

  - å‡½æ•°çš„ length å±æ€§(å½¢å‚ä»å‰å¾€åæ£€æµ‹ï¼Œé‡åˆ°æœ‰é»˜è®¤å€¼çš„å°±ä¸æ£€æµ‹äº†ï¼Œä¸å‡†ç¡®ï¼Œæ‰€ä»¥å¹¶æ²¡ä»€ä¹ˆç”¨)

  ```js
  (function (x,y,z) {
      
  }).length // 3
  (function (x,y=1,z) {
      
  }).length // 1
  (function (x,y,z=1,n) {
      
  }).length // 2
  ```

- restå‚æ•°

  - è¯­æ³•ï¼šâ€¦å˜é‡å
  - ä¸€å®šè¦æ”¾åœ¨æ•°ç»„è§£æ„æˆ–è€…å‡½æ•°å½¢å‚çš„æœ€åé¢
  - arguments å’Œ restå‚æ•° çš„åŒºåˆ«
    - argumentsæ˜¯å¯¹è±¡ï¼Œå®šä¹‰å‡½æ•°æ—¶ä¸éœ€è¦æ”¾å…¥å½¢å‚ï¼Œè·å–æ‰€æœ‰å‚æ•°çš„å€¼
    - restå‚æ•°æ˜¯æ•°ç»„ï¼Œå®šä¹‰å‡½æ•°æ—¶è¦æ”¾å…¥å½¢å‚å¹¶å‘½åï¼Œè·å–çš„æ˜¯ï¼Œé™¤äº†å‰é¢å…¶ä»–å½¢å‚çš„å‰©ä½™å€¼ï¼Œå¹¶ä¸” rest å‚æ•°ä¹Ÿå¯ä»¥ç”¨äºæ•°ç»„è§£æ„ï¼Œä¸ä¸€å®šè¦åœ¨å‡½æ•°ä¸­ä½¿ç”¨

  ```js
  var add = function (...value) {
      var sum = 0
      value.map(n => sum += n)
      return sum
  }
  add(1,2,3,4)// 10
  var sub = function (a,b,...value) {
      var sum = 0
      sum = value[0]-value[1]
      return sum
  }
  sub(1,2,3,4)//-1
  sub(1,2,3)//NaN 3-undefinedæ˜¯NaN
  ```

- æ‰©å±•è¿ç®—ç¬¦ `...`

  - é€šä¿—ç†è§£ï¼ŒæŠŠæ•°ç»„çš„æ‹¬å·å»æ‰ï¼Œå³ä¸€ä¸ªå‚æ•°ï¼Œå˜æˆäº†å¤šä¸ªå‚æ•°
  - ç”¨é€”
    - åˆå¹¶æ•°ç»„
    - ç²¾ç¡®è·å– UTF-16 çš„å­—ç¬¦ä¸²é•¿åº¦

  ```js
  var values = ["hello","world","!"]
  console.log(...value)// ç›¸å½“äº console.log("hello","world","!")
  // hello world !
  
  //åˆå¹¶æ•°ç»„
  var arr1 = [1,2]
  var arr2 = [3,4]
  var arr3 = [5,6]
  var arr4 = arr1.concat(arr2,arr3)// [1,2,3,4,5,6]
  var arr5 = [...arr1,...arr2,...arr3]// [1,2,3,4,5,6]
  
  //ç²¾ç¡®è·å–å­—ç¬¦ä¸²é•¿åº¦
  "ağŸ’a".length// 4 "a\ud83d\udc12a"
  [..."ağŸ’a"].length// 3
  "ağŸ’b".split('').reverse().join('')// "bï¿½ï¿½a" "b\udc12\ud83da"
  [..."ağŸ’b"].reverse().join('')// "bğŸ’a" "b\ud83d\udc12a"
  ```

- å‡½æ•°çš„ name å±æ€§

  ```js
  var fun = function () {}
  fun.name// ES6 fun ES5æ˜¯ç©ºä¸²
  
  function fun1() {}
  fun1.name// fun1
  
  // ä¸‹é¢çš„å‡½æ•°å®šä¹‰æ–¹æ³•æ˜¯ Airbnbä»£ç è§„èŒƒ ä¸­æ¨èä½¿ç”¨çš„
  var f1 = function f2() {
      
  }
  f1.name// f2
  
  (new Function).name// anonymous(åŒ¿å)
  
  function test() {}
  test.bind(f1).name // bound test
  ```

- ç®­å¤´å‡½æ•° (vueé‚£ç¯‡ç¬”è®°ä¸­æœ‰è¯¦ç»†è¯´æ˜)

  - ä½¿ç”¨ `=>` å®šä¹‰çš„å‡½æ•°
  - ç®­å¤´çš„å·¦ä¾§ä¸ºå‡½æ•°çš„å‚æ•°ï¼Œå³ä¾§è¡¨ç¤ºå‡½æ•°ä½“
  - å¦‚æœå³ä¾§åªæœ‰ä¸€æ¡è¯­å¥ï¼Œåˆ™ä½œä¸ºè¿”å›å€¼
  - ç®­å¤´å‡½æ•°çš„ this çš„æŒ‡å‘å…³ç³»æ˜¯é‡ç‚¹ï¼Œåœ¨vueé‚£ç¯‡ç¬”è®°ä¸­ä¹Ÿæœ‰è¯¦ç»†çš„è®²è¿°

### å¯¹è±¡çš„æ‰©å±•

- å±æ€§çš„ç®€ä»‹è¡¨ç¤ºæ³•

  - å¦‚æœå±æ€§åå’Œå±æ€§å€¼ä½ç½®çš„å˜é‡åç›¸åŒï¼Œåˆ™å¯ä»¥åªç”¨ä¸€ä¸ªå˜é‡åï¼Œå³è¡¨ç¤ºå±æ€§ååˆè¡¨ç¤ºå±æ€§å€¼
  - å¦‚æœæ­¤å±æ€§æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå±æ€§å€¼æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œåˆ™å¯ä»¥ç›´æ¥å®šä¹‰å‡½æ•°ï¼Œå³è¡¨ç¤ºå±æ€§ååˆè¡¨ç¤ºå±æ€§å€¼

  ```js
  // ES5
  var name = 'Bill'
  var obj = {name: name}
  // ES6
  var obj1 = {name}
  
  // ES5
  var obj2 = {
      fun: function () {
          return "hello world"
      }
  }
  // ES6
  var obj3 = {
      fun() {
          return "hello world"
      }
  }
  ```

- å±æ€§åè¡¨è¾¾å¼

  - ä¸€ç§æ–°å¢çš„ï¼ŒåŠ¨æ€ç»™å¯¹è±¡æ·»åŠ å±æ€§çš„æ–¹æ³•

  ```js
  var obj = {}
  // ES5
  obj.age = 30
  obj['salary'] = 3000
  // ES6 å±æ€§åè¡¨è¾¾å¼
  var p = 'x'
  obj['na'+'me'] = 'Mary'
  obj[p+p] = 'pp'
  // {age: 30, salary: 3000, name: "Mary", xx: "pp"}
  var obj2 = {
      ['product' + 1 * 666]: 'ioooooooooo',
      [p]: 'p'
  }
  // {product666: "ioooooooooo", x: "p"}
  var obj1 = {
      ['f'+'un']() {
          console.log('fun')
      }
  }
  obj1.fun() // fun
  ```

- Object.is

  - åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸åŒã€‚å¦‚æœä¸‹åˆ—ä»»ä½•ä¸€é¡¹æˆç«‹ï¼Œåˆ™ä¸¤ä¸ªå€¼ç›¸åŒï¼š

    - ä¸¤ä¸ªå€¼éƒ½æ˜¯ undefined
    - ä¸¤ä¸ªå€¼éƒ½æ˜¯ null
    - ä¸¤ä¸ªå€¼éƒ½æ˜¯ true æˆ–è€…éƒ½æ˜¯ false
    - ä¸¤ä¸ªå€¼æ˜¯ç”±ç›¸åŒä¸ªæ•°çš„å­—ç¬¦æŒ‰ç…§ç›¸åŒçš„é¡ºåºç»„æˆçš„å­—ç¬¦ä¸²
    - ä¸¤ä¸ªå€¼æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡
    - ä¸¤ä¸ªå€¼éƒ½æ˜¯æ•°å­—å¹¶ä¸”
      - éƒ½æ˜¯æ­£é›¶ +0
      - éƒ½æ˜¯è´Ÿé›¶ -0
      - éƒ½æ˜¯ NaN
      - éƒ½æ˜¯é™¤é›¶å’Œ NaNå¤–çš„å…¶å®ƒåŒä¸€ä¸ªæ•°å­—

    è¿™ç§ç›¸ç­‰æ€§åˆ¤æ–­é€»è¾‘å’Œä¼ ç»Ÿçš„ == è¿ç®—ä¸åŒï¼Œ== è¿ç®—ç¬¦ä¼šå¯¹å®ƒä¸¤è¾¹çš„æ“ä½œæ•°åšéšå¼ç±»å‹è½¬æ¢ï¼ˆå¦‚æœå®ƒä»¬ç±»å‹ä¸åŒï¼‰ï¼Œç„¶åæ‰è¿›è¡Œç›¸ç­‰æ€§æ¯”è¾ƒï¼Œï¼ˆæ‰€ä»¥æ‰ä¼šæœ‰ç±»ä¼¼ 0 == false ç­‰äº true çš„ç°è±¡ï¼‰ï¼Œä½† Object.is ä¸ä¼šåšè¿™ç§ç±»å‹è½¬æ¢ã€‚

    è¿™ä¸ === è¿ç®—ç¬¦çš„åˆ¤å®šæ–¹å¼ä¹Ÿä¸ä¸€æ ·ã€‚=== è¿ç®—ç¬¦ï¼ˆå’Œ == è¿ç®—ç¬¦ï¼‰å°†æ•°å­—å€¼ -0 å’Œ +0 è§†ä¸ºç›¸ç­‰ï¼Œå¹¶è®¤Number.NaN ä¸º NaN ä¸ç­‰äº ã€‚

- Object.assign

  - ç”¨äºå¤åˆ¶å¯¹è±¡å±æ€§ï¼ˆåŒ…æ‹¬å±æ€§å€¼ï¼‰ï¼Œå¦‚æœç›®æ ‡å¯¹è±¡æˆ–è€…å„æºå¯¹è±¡å«æœ‰åŒåå±æ€§ï¼Œåˆ™åé¢å¤åˆ¶çš„å±æ€§ä¼šè¦†ç›–å‰é¢çš„å±æ€§
  - assign åªå¤åˆ¶èµ„æ·±çš„å±æ€§ï¼Œä¸å¯æšä¸¾çš„å±æ€§å’Œç»§æ‰¿çš„å±æ€§ä¸ä¼šå¤åˆ¶
  - ä¸¤ä¸ªå‚æ•°
    - targetObj
    - â€¦restå‚æ•°ï¼ˆsourceObjï¼‰

  ```js
  var target = {id: 10}
  var source1 = {name: 'iooo'}
  var source2 = {price: 7000}
  var source3 = {location: 'CN'}
  Object.assign(target, source1, source2, source3)
  console.log(target)// {id: 10, name: "iooo", price: 7000, location: "CN"}
  
  var target = {id: 10}
  var source1 = {name: 'iooo',id: 11}
  var source2 = {price: 7000,name: 'iooq',id:12}
  var source3 = {location: 'CN'}
  Object.assign(target, source1, source2, source3)
  console.log(target)// {id: 12, name: "iooq", price: 7000, location: "CN"}
  
  // ä¸ºå¯¹è±¡æ·»åŠ å±æ€§
  class MyClass {
      constructor(x,y) {
          Object.assign(this, {x, y})
      }
  }
  var my = new MyClass(10, 20)
  console.log(my)// MyClassÂ {x: 10, y: 20}
  
  //å…‹éš†å¯¹è±¡
  function cloneObj(origin) {
      return Object.assign({}, origin)
  }
  var origin = {id: 20,name: 'Bill'}
  var clone = cloneObj(origin)// {id: 20, name: "Bill"}
  ```

### Symbol

ES5 çš„å¯¹è±¡å±æ€§åéƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œè¿™å®¹æ˜“é€ æˆå±æ€§åçš„å†²çªã€‚æ¯”å¦‚ï¼Œä½ ä½¿ç”¨äº†ä¸€ä¸ªä»–äººæä¾›çš„å¯¹è±¡ï¼Œä½†åˆæƒ³ä¸ºè¿™ä¸ªå¯¹è±¡æ·»åŠ æ–°çš„æ–¹æ³•ï¼ˆmixin æ¨¡å¼ï¼‰ï¼Œæ–°æ–¹æ³•çš„åå­—å°±æœ‰å¯èƒ½ä¸ç°æœ‰æ–¹æ³•äº§ç”Ÿå†²çªã€‚å¦‚æœæœ‰ä¸€ç§æœºåˆ¶ï¼Œä¿è¯æ¯ä¸ªå±æ€§çš„åå­—éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„å°±å¥½äº†ï¼Œè¿™æ ·å°±ä»æ ¹æœ¬ä¸Šé˜²æ­¢å±æ€§åçš„å†²çªã€‚è¿™å°±æ˜¯ ES6 å¼•å…¥`Symbol`çš„åŸå› ã€‚

ES6 å¼•å…¥äº†ä¸€ç§æ–°çš„åŸå§‹æ•°æ®ç±»å‹ `Symbol`ï¼Œè¡¨ç¤ºç‹¬ä¸€æ— äºŒçš„å€¼ã€‚å®ƒæ˜¯ JavaScript è¯­è¨€çš„ç¬¬ä¸ƒç§æ•°æ®ç±»å‹ï¼Œå‰å…­ç§æ˜¯ï¼š`undefined`ã€`null`ã€å¸ƒå°”å€¼ï¼ˆBooleanï¼‰ã€å­—ç¬¦ä¸²ï¼ˆStringï¼‰ã€æ•°å€¼ï¼ˆNumberï¼‰ã€å¯¹è±¡ï¼ˆObjectï¼‰ã€‚

Symbol å€¼é€šè¿‡`Symbol`å‡½æ•°ç”Ÿæˆã€‚è¿™å°±æ˜¯è¯´ï¼Œå¯¹è±¡çš„å±æ€§åç°åœ¨å¯ä»¥æœ‰ä¸¤ç§ç±»å‹ï¼Œä¸€ç§æ˜¯åŸæ¥å°±æœ‰çš„å­—ç¬¦ä¸²ï¼Œå¦ä¸€ç§å°±æ˜¯æ–°å¢çš„ Symbol ç±»å‹ã€‚å‡¡æ˜¯å±æ€§åå±äº Symbol ç±»å‹ï¼Œå°±éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œå¯ä»¥ä¿è¯ä¸ä¼šä¸å…¶ä»–å±æ€§åäº§ç”Ÿå†²çªã€‚

- Symbol ä¸èƒ½ä¸å…¶ä»–ç±»å‹çš„å€¼è¿›è¡Œè¿ç®—ï¼Œå¦åˆ™ä¼šæŠ¥é”™

  ```js
  var sym = Symbol('Test Symbol')
  
  // Symbol å¯ä»¥æ˜¾å¼è½¬æ¢ä¸º Stringï¼Œä½†ä¸èƒ½éšå¼è½¬æ¢ä¸º String
  var sss = 'hello' + sym //error è¿ç®—æ˜¯éšå¼è½¬æ¢
  var str = String(sym)// "Symbol(Test Symbol)"
  var str1 = sym.toString()// "Symbol(Test Symbol)"
  
  // Symbol å¯ä»¥è½¬ä¸ºå¸ƒå°”å€¼ï¼Œä½†ä¸èƒ½è½¬ä¸ºæ•°å€¼
  Boolean(sym)// true
  Number(sym)// error
  ```

- Symbol ä½œä¸ºå±æ€§å

  - è°ƒç”¨ç”¨ Symbol å®šä¹‰çš„å¯¹è±¡çš„å±æ€§æ—¶ï¼Œä¸èƒ½ç”¨ . çš„æ–¹å¼è°ƒç”¨ï¼Œå› ä¸º . è°ƒç”¨çš„æ˜¯ å­—ç¬¦ä¸²å±æ€§å
  - å…³äºå…¨å±€çŠ¶æ€ä¸‹ç”¨ `var name = Symbol` ä¼šæŠ¥é”™çš„é—®é¢˜
    - name æ˜¯ window çš„ç‰¹æœ‰å±æ€§ï¼Œåœ¨å…¨å±€ç¯å¢ƒä¸‹å®šä¹‰çš„nameå˜é‡ï¼Œèµ‹ä»»ä½•å€¼éƒ½ä¼šè‡ªåŠ¨è½¬åŒ–æˆå­—ç¬¦ä¸²ï¼Œè€ŒSymbolç±»å‹ä¸èƒ½ç›´æ¥è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥æŠ¥é”™äº†ã€‚

  ```js
  var s = Symbol('a')
  var ss = Symbol('a')
  var obj = {}
  // æ–¹æ³•ä¸€
  obj[s] = 'Bill'
  obj[ss] = 'Mary'
  
  // æ–¹æ³•äºŒ
  var obj2 = {
      [s]: 'John'
  }
  
  // æ–¹æ³•ä¸‰
  var obj3 = {}
  Object.defineProperty(obj3,s,{value: 'John'})
  
  // è°ƒç”¨
  console.log(obj[s])
  ```

- Symbol å±æ€§åçš„éå†

  ```js
  var obj = {name: 'Bill'}
  var a = Symbol('a')
  var b = Symbol('b')
  obj[a] = 'Hello'
  obj[b] = 'World'
  // Object.getOwnPropertySymbols æ–¹æ³•åªéå† Symbol å±æ€§
  var objectSymbols = Object.getOwnPropertySymbols(obj)
  console.log(objectSymbols)// [Symbol(a), Symbol(b)]
  
  // for...in, Object.keys(), Object.getOwnPropertyNames åªèƒ½éå†å­—ç¬¦ä¸²å±æ€§
  for (var key in obj) {
      console.log(key)
  }
  // name
  
  // åŒæ—¶è·å– Symbol å’Œé Symbol å±æ€§
  console.log(Reflect.ownKeys(obj))// ["name", Symbol(a), Symbol(b)]
  
  // å¯ä»¥åˆ©ç”¨ Symbol çš„ç‰¹æ€§ä¸ºå¯¹è±¡æ·»åŠ ä¸€äº›éç§æœ‰ï¼Œä½†æ˜¯åˆå¸Œæœ›åªç”¨äºå†…éƒ¨çš„æ–¹æ³•
  var size = Symbol('size')
  class Collection {
      constructor() {
          this[size] = 0 // ä¸ºå¯¹è±¡æ·»åŠ ä¸€ä¸ª Symbol ç±»å‹ï¼Œåä¸º size çš„å±æ€§
      }
      add(item) {
          this[this[size]] = item
          this[size]++
      }
      static sizeOf(instance) {
          return instance[size]
      }
  }
  var cc = new Collection()
  console.log(Collection.sizeOf(cc))
  cc.add('ok')
  cc.add('not ok')
  console.log(Collection.sizeOf(cc))
  console.log(object.keys(cc))// ["0", "1"]
  console.log(Reflect.ownKeys(cc))// ["0", "1", Symbol(size)]
  ```

- Symbol.for & Symbol.keyFor

  - Symbole.for 
    - æœ‰æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›é‡æ–°ä½¿ç”¨åŒä¸€ä¸ª Symbol å€¼ï¼Œ`Symbol.for`æ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚å®ƒæ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œç„¶åæœç´¢æœ‰æ²¡æœ‰ä»¥è¯¥å‚æ•°ä½œä¸ºåç§°çš„ Symbol å€¼ã€‚å¦‚æœæœ‰ï¼Œå°±è¿”å›è¿™ä¸ª Symbol å€¼ï¼Œå¦åˆ™å°±æ–°å»ºå¹¶è¿”å›ä¸€ä¸ªä»¥è¯¥å­—ç¬¦ä¸²ä¸ºåç§°çš„ Symbol å€¼ã€‚
    - `Symbol.for()`ä¸`Symbol()`è¿™ä¸¤ç§å†™æ³•ï¼Œéƒ½ä¼šç”Ÿæˆæ–°çš„ Symbolã€‚å®ƒä»¬çš„åŒºåˆ«æ˜¯ï¼Œå‰è€…ä¼šè¢«ç™»è®°åœ¨å…¨å±€ç¯å¢ƒä¸­ä¾›æœç´¢ï¼Œåè€…ä¸ä¼šã€‚`Symbol.for()`ä¸ä¼šæ¯æ¬¡è°ƒç”¨å°±è¿”å›ä¸€ä¸ªæ–°çš„ Symbol ç±»å‹çš„å€¼ï¼Œè€Œæ˜¯ä¼šå…ˆæ£€æŸ¥ç»™å®šçš„`key`æ˜¯å¦å·²ç»å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨æ‰ä¼šæ–°å»ºä¸€ä¸ªå€¼ã€‚æ¯”å¦‚ï¼Œå¦‚æœä½ è°ƒç”¨`Symbol.for("cat")`30 æ¬¡ï¼Œæ¯æ¬¡éƒ½ä¼šè¿”å›åŒä¸€ä¸ª Symbol å€¼ï¼Œä½†æ˜¯è°ƒç”¨`Symbol("cat")`30 æ¬¡ï¼Œä¼šè¿”å› 30 ä¸ªä¸åŒçš„ Symbol å€¼ã€‚
  - Symbol.keyFor
    - `Symbol.keyFor`æ–¹æ³•è¿”å›ä¸€ä¸ªå·²ç™»è®°çš„ Symbol ç±»å‹å€¼çš„`key`ã€‚

  ```js
  var name1 = Symbol('name')
  var name2 = Symbol('name')
  console.log(name1 === name2)// false
  var s = Symbol.for('x')
  var ss = Symbol.for('x')
  console.log(s === ss)// true
  
  console.log(Symbol.keyFor(s))// x
  console.log(Symbol.keyFor(name1))// undefined å› ä¸ºç›´æ¥ç”¨Symbol() æ–¹å¼ç”Ÿæˆçš„ Symbol å€¼ä¸ä¼šè¢«ç™»è®°
  ```

  







